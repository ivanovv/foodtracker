!!!
%html{html_attrs}

  %head
    %title
      = h("#{ApplicationController::TITLE} ") +  h(yield(:title) || "Untitled")
    %meta{"http-equiv"=>"Content-Type", :content=>"text/html; charset=utf-8"}
    = csrf_meta_tag
    = javascript_include_tag "http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"
    = javascript_include_tag 'rails'

    = stylesheet_link_tag 'clearfix', 'reset', 'application' #, 'formtastic'

    = yield(:head)

  %body
    #app-container
      %ul#nav= render_navigation
      .clear

      #content-container
        - if flash.present?
          .app-flash
            - flash.each do |type, message|
              %div{ :class => "flash-message #{type}" }
                %p= message
          :javascript
            Event.observe(window, "load", function() { Effect.Shrink.delay(3, $$(".app-flash").first()); });

        - if show_title?
          %h1=h yield(:title)

        = yield

      .clear
      .app-footer
        %p
          = raw "Copyright &copy; #{Date.today.year} #{ApplicationController::TITLE}"

