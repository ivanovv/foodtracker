!!!
%html{html_attrs}

  %head
    %title
      = h("#{ApplicationController::TITLE} ") +  h(yield(:title) || "Untitled")
    %meta{"http-equiv"=>"Content-Type", :content=>"text/html; charset=utf-8"}
    = javascript_include_tag :defaults, :cache => "all"
    = stylesheet_link_tag 'clearfix', 'reset', 'application'#, 'formtastic'
    = yield(:head)

  %body
    #app-container
      %ul#nav
        %li
          = link_to "Categories", categories_path
        %li
          = link_to "Products", products_path
        %li
          = link_to "Days", days_path

        - if current_user
          %li.right
            = link_to "Logout", logout_path
          %li.right
            = link_to "Edit Profile", edit_user_path(:current)
        - else
          %li.right
            = link_to "Login", login_path
          %li.right
            = link_to "Register", new_user_path
      .clear

      #content-container

        - if flash.present?
          .app-flash
            - flash.each do |type, message|
              %div{ :class => "flash-message #{type}" }
                %p= message
          :javascript
            Event.observe(window, "load", function() { Effect.Shrink.delay(3, $$(".app-flash").first()); });

        - if show_title?
          %h1=h yield(:title)

        = yield

      .clear
      .app-footer
        %p
          = raw "Copyright &copy; #{Date.today.year} #{ApplicationController::TITLE}"

